!function webpackUniversalModuleDefinition(o,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.monitor=n():(o.__WEBPACK_GLOBAL__=o.__WEBPACK_GLOBAL__||{},o.__WEBPACK_GLOBAL__.monitor=n())}("undefined"!=typeof self?self:this,function(){return e={},r.m=t={173:function(o,n){var t;function e(o,n,t){return n in o?Object.defineProperty(o,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[n]=t,o}var r={MonitorId:{DESIGN_SAVE:7332,RAPID_SITE_OPEN:7346,FORM_SUBMIT:7347,ADD_MODULE:7348,EDIT_MODULE:7349,HIDE_MODULE:7350,COPY_MODULE:7351,INIT_MODULES:7352,INIT_MODULE_STYLE:7353,MODULE_STATE_SWITCH:7354,OPEN_EDIT_PANEL:7355,OPEN_FUN_PANEL:7356},AlarmMonitorId:{DESIGN_SAVE:7345,RAPID_SITE_OPEN:7333,FORM_SUBMIT:7334,ADD_MODULE:7335,EDIT_MODULE:7336,HIDE_MODULE:7337,COPY_MODULE:7338,INIT_MODULES:7339,INIT_MODULE_STYLE:7340,MODULE_STATE_SWITCH:7341,JZ_UTILS:7344,OPEN_EDIT_PANEL:7342,OPEN_FUN_PANEL:7343}},i=r.MonitorId,u=r.AlarmMonitorId;r._AutoAlarmMonitorMap=(e(t={},i.DESIGN_SAVE,u.DESIGN_SAVE),e(t,i.RAPID_SITE_OPEN,u.RAPID_SITE_OPEN),e(t,i.FORM_SUBMIT,u.FORM_SUBMIT),e(t,i.ADD_MODULE,u.ADD_MODULE),e(t,i.HIDE_MODULE,u.HIDE_MODULE),e(t,i.COPY_MODULE,u.COPY_MODULE),e(t,i.INIT_MODULES,u.INIT_MODULES),e(t,i.INIT_MODULE_STYLE,u.INIT_MODULE_STYLE),e(t,i.MODULE_STATE_SWITCH,u.MODULE_STATE_SWITCH),e(t,i.OPEN_EDIT_PANEL,u.OPEN_EDIT_PANEL),e(t,i.OPEN_FUN_PANEL,u.OPEN_FUN_PANEL),t),o.exports=r},265:function(o,n,t){"use strict";t.r(n);t(266)},266:function(o,n,t){var e=t(267),r=t(173);n.Monitor=e,n.MonitorDef=r,"undefined"!=typeof window&&(window.Monitor=e,window.MonitorDef=r),Function.prototype.bindMonitor=function(o){return e.monitorDecorator(this)(o)}},267:function(o,n,t){function r(o,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,e.key,e)}}var u=t(173),e=function(){function i(){!function t(o,n){if(!(o instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i)}return function e(o,n,t){return n&&r(o.prototype,n),t&&r(o,t),o}(i,null,[{key:"startMonitor",value:function(n){var t=this;if(!n)return console.error("请传入 monitorId"),function(){};var o=new Date;return i._monitors[n]={startTime:o},function(){var o=!(0<arguments.length&&arguments[0]!==undefined)||arguments[0];return t.endMonitor(n,o)}}},{key:"endMonitor",value:function(o){var n=!(1<arguments.length&&arguments[1]!==undefined)||arguments[1],t=i._monitors[o];delete i._monitors[o],t&&t.startTime&&this.logMonitor(o,!n,new Date-t.startTime)}},{key:"logMonitor",value:function(o,n,t){this._sendData({monitorId:o,cmd:"logMonitor",isError:n,consumeTime:t,alarmMonitorId:this._getAutoAlarmMonitorId(o)})}},{key:"logAlarmMonitor",value:function(o){this._sendData({monitorId:o,cmd:"logAlarmMonitor"})}},{key:"_sendData",value:function(o){location.search.includes("monitor_log")&&console.log("监控上报",o);$.ajax({url:"ajax/frontMonitor_h.jsp",type:"post",data:o,success:function(o){var n=JSON.parse(o);n.success||console.error("监控数据上报错误",n)},error:function(o){console.error("监控数据上报错误",o)}})}},{key:"_getAutoAlarmMonitorId",value:function(o){return u._AutoAlarmMonitorMap[o]||0}},{key:"monitorDecorator",value:function(r){return function(e){return function(){var o,n=i.startMonitor(e);try{o=r.apply(this,arguments)}catch(t){throw n(!1),t}return o instanceof Promise?o.then(function(o){return n(!0),o})["catch"](function(o){throw n(!1),o}):(n(!0),o)}}}}]),i}();e._monitors={},o.exports=e}},r.c=e,r.d=function(o,n,t){r.o(o,n)||Object.defineProperty(o,n,{enumerable:!0,get:t})},r.r=function(o){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},r.t=function(n,o){if(1&o&&(n=r(n)),8&o)return n;if(4&o&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&o&&"string"!=typeof n)for(var e in n)r.d(t,e,function(o){return n[o]}.bind(null,e));return t},r.n=function(o){var n=o&&o.__esModule?function(){return o["default"]}:function(){return o};return r.d(n,"a",n),n},r.o=function(o,n){return Object.prototype.hasOwnProperty.call(o,n)},r.p="",r(r.s=265);function r(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}var t,e});